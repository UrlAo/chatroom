# 多人视频聊天功能测试指南

## 功能概述

本项目已成功实现了多人视频聊天功能，允许多个用户同时参与视频会议。

## 测试步骤

### 1. 启动服务器

1. 运行 `gui_server.py` 启动聊天室服务器
2. 点击"服务器"菜单 -> "启动服务器"
3. 输入端口号（默认 8888）

### 2. 启动多个客户端

1. 运行 `gui_client.py` 启动客户端
2. 连接到服务器（使用相同 IP 和端口）
3. 设置用户名
4. 重复以上步骤启动至少 3 个客户端进行测试

### 3. 测试多人视频聊天功能

#### 发起视频会议

1. 在其中一个客户端中，确保当前聊天对象是"聊天室"
2. 点击"视频通话"按钮
3. 系统会提示发起多人视频会议
4. 确认后，会创建一个新的视频会议室，并自动加入

#### 加入视频会议

1. 其他客户端会收到视频会议邀请通知
2. 在聊天室消息中会显示"【多人视频会议】XXX 发起了一个视频会议"
3. 点击"点击进入会议"按钮
4. 在弹出的确认对话框中选择"是"

#### 会议中功能测试

1. **视频显示**：每个参与者都应该能看到自己的视频和其它参与者的视频
2. **摄像头控制**：点击"关闭摄像头"/"开启摄像头"按钮切换摄像头状态
3. **离开会议**：点击"离开会议"按钮退出当前视频会议
4. **动态加入/离开**：测试有新成员加入或离开时，界面是否正确更新

### 4. 预期结果

- 所有参与视频会议的用户都能看到彼此的视频流
- 新加入的用户能立即看到当前在会议中的所有用户
- 用户离开后，其他用户的界面应正确更新
- 摄像头开关功能正常工作
- 视频窗口布局根据参与者数量自动调整

### 5. 技术细节

- 使用 TCP 协议传输视频数据
- 支持最多 9 人同时视频会议（可根据需要扩展）
- 视频窗口自动调整布局以适应参与者数量
- 支持摄像头实时开关功能

### 6. 故障排除

- 如果视频无法显示，请检查摄像头权限
- 确保网络连接稳定
- 如果出现界面卡顿，可能是网络带宽不足导致
